module.exports=function(e){var t={};function a(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,a),o.l=!0,o.exports}return a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(n,o,function(t){return e[t]}.bind(null,o));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=30)}([function(e,t){e.exports=flarum.core.compat["common/extend"]},function(e,t){e.exports=flarum.core.compat["common/app"]},function(e,t){e.exports=flarum.core.compat["common/helpers/listItems"]},function(e,t){e.exports=flarum.core.compat["components/IndexPage"]},function(e,t){e.exports=flarum.core.compat["common/components/LinkButton"]},function(e,t){e.exports=flarum.core.compat["common/Component"]},function(e,t){e.exports=flarum.core.compat["components/Link"]},function(e,t){e.exports=flarum.core.compat["tags/common/utils/sortTags"]},function(e,t){e.exports=flarum.core.compat["common/components/Button"]},function(e,t){e.exports=flarum.core.compat["utils/formatNumber"]},function(e,t){e.exports=flarum.core.compat["tags/components/TagsPage"]},function(e,t){e.exports=flarum.core.compat["forum/components/AffixedSidebar"]},function(e,t){e.exports=flarum.core.compat["forum/components/DiscussionList"]},function(e,t){e.exports=flarum.core.compat["components/DiscussionListItem"]},function(e,t){e.exports=flarum.core.compat["forum/components/DiscussionPage"]},function(e,t){e.exports=flarum.core.compat["forum/ForumApplication"]},function(e,t){e.exports=flarum.core.compat["common/components/HeaderSecondary"]},function(e,t){e.exports=flarum.core.compat["components/LoadingIndicator"]},function(e,t){e.exports=flarum.core.compat["forum/components/IndexPage"]},function(e,t){e.exports=flarum.core.compat["common/utils/ItemList"]},function(e,t){e.exports=flarum.core.compat["common/components/LogInModal"]},function(e,t){e.exports=flarum.core.compat["common/components/SignUpModal"]},function(e,t){e.exports=flarum.core.compat["common/helpers/avatar"]},function(e,t){e.exports=flarum.core.compat["utils/humanTime"]},function(e,t){e.exports=flarum.core.compat["tags/components/TagLinkButton"]},function(e,t){e.exports=flarum.core.compat["helpers/humanTime"]},function(e,t){e.exports=flarum.core.compat["tags/common/helpers/tagIcon"]},function(e,t){e.exports=flarum.core.compat["tags/common/helpers/tagLabel"]},,,function(e,t,a){"use strict";a.r(t);var n=a(0),o=a(1),r=a.n(o),s=a(11),i=a.n(s),c=a(12),u=a.n(c),l=a(13),p=a.n(l),d=a(14),f=a.n(d),g=a(15),v=a.n(g),h=a(16),b=a.n(h),y=a(3),x=a.n(y),N=a(6),I=a.n(N),T=a(17),P=a.n(T);function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,_(e,t)}var O=a(8),j=a.n(O),w=a(5),A=a.n(w),C=a(18),B=a.n(C),L=a(19),D=a.n(L),S=a(4),M=a.n(S),E=a(20),U=a.n(E),G=function(e){function t(){return e.apply(this,arguments)||this}return k(t,e),t.prototype.view=function(){return m("li",{className:"separator"})},t}(A.a);G.isListItem=!0;var z=G,F=a(21),q=a.n(F),H=a(22),W=a.n(H),J=a(9),K=a.n(J),Q=a(23),R=a.n(Q),V=a(2),X=a.n(V),Y=function(e){function t(){return e.apply(this,arguments)||this}k(t,e);var a=t.prototype;return a.view=function(){var e=app.session.user;if(!1!==app.forum.attribute("showSideNavToGuests")||e){var t=(new B.a).navItems();return m("div",{class:"App-sidebar-container"},m("div",{class:"App-sidebar-user-block"},e?[m("div",{className:"loggedIn"},m("div",{class:"avatarWrapper"},m("div",{className:"Avatar-container"},W()(e),m("ul",{className:"badges"},X()(e.badges().toArray())))),m("h4",null,e.username()),m("p",null,app.translator.trans("core.forum.user.joined_date_text",{ago:R()(e.joinTime())})),m("div",{class:"App-sidebar-user-stats"},m("div",{class:"statItem"},m("span",null,app.translator.trans("core.forum.user.posts_link")),m("span",null,K()(e.commentCount()))),m("div",{class:"statItem"},m("span",null,app.translator.trans("core.forum.user.discussions_link")),m("span",null,K()(e.discussionCount())))))]:[m("div",{className:"guest"},m("h4",{className:"guestGreeting"},app.translator.trans("madeyedeer-pallet-theme.forum.howdy")),m("p",{className:"guestMessage"},app.translator.trans("madeyedeer-pallet-theme.forum.involve")),m("div",{className:"guestButtons"},this.sessionItems().toArray()))]),m("div",{class:"App-sidebar-items"},m("div",{class:"App-sidebar-items-container"},m("ul",null,X()(t.toArray()),e?X()(this.sessionItems().toArray()):""))))}},a.sessionItems=function(){var e=new D.a,t=app.session.user;return t?(e.add("separator-top",z.component(),50),e.add("profile",M.a.component({icon:"fas fa-user",href:app.route.user(t)},app.translator.trans("core.forum.header.profile_button")),40),e.add("settings",M.a.component({icon:"fas fa-cog",href:app.route("settings")},app.translator.trans("core.forum.header.settings_button")),30),e.add("separator",z.component(),25),app.forum.attribute("adminUrl")&&e.add("administration",M.a.component({icon:"fas fa-wrench",href:app.forum.attribute("adminUrl"),target:"_blank"},app.translator.trans("core.forum.header.admin_button")),20),e.add("logOut",M.a.component({icon:"fas fa-sign-out-alt",onclick:app.session.logout.bind(app.session)},app.translator.trans("core.forum.header.log_out_button")),10)):(app.forum.attribute("allowSignUp")&&e.add("signUp",j.a.component({className:"Button Button--secondary Button--block",onclick:function(){return app.modal.show(q.a)}},app.translator.trans("core.forum.header.sign_up_link")),20),e.add("logIn",j.a.component({className:"Button Button--secondary Button--block",onclick:function(){return app.modal.show(U.a)}},app.translator.trans("core.forum.header.log_in_link")),10)),e},t}(A.a),Z=a(24),ee=a.n(Z),te=a(10),ae=a.n(te),ne=a(25),oe=a.n(ne),re=a(7),se=a.n(re),ie=a(26),ce=a.n(ie),me=a(27),ue=a.n(me);function le(e){e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,a,n){return t+t+a+a+n+n}));var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?parseInt(t[1],16)+","+parseInt(t[2],16)+","+parseInt(t[3],16):null}r.a.initializers.add("madeyedeer-pallet-theme",(function(){r.a.initializers.has("flarum-tags")?(Object(n.extend)(p.a.prototype,"oncreate",(function(e,t){var a=$(t.dom).find(".DiscussionListItem-content"),n=a.find(".item-sticky"),o=a.find(".item-locked");n.length&&n.closest(".DiscussionListItem").addClass("stickyDiscussion"),o.length&&o.closest(".DiscussionListItem").addClass("lockedDiscussion")})),Object(n.extend)(f.a.prototype,"onupdate",(function(e,t){$(t.dom).find("nav .Button--primary").removeClass("Button--primary").addClass("Button--secondary")})),Object(n.extend)(v.a.prototype,"mount",(function(){var e=r.a.session.user;if(!1!==r.a.forum.attribute("showSideNavToGuests")||e){var t=document.getElementById("header-primary"),a=document.createElement("div");a.className="App-sidebar",t.parentNode.insertBefore(a,t.nextSibling),m.mount(a,Y)}else document.querySelector(".App-content").style.marginLeft="0"})),Object(n.extend)(b.a.prototype,"items",(function(e){var t=(new x.a).sidebarItems().get("newDiscussion");e.add("newDiscussion",t,19)})),Object(n.extend)(x.a.prototype,"oncreate",(function(e,t){var a=this.currentTag(),n=$(t.dom).find(".container"),o=$(t.dom).find(".sideNav");o.addClass("sideNav--hidden"),n.addClass("container--shrink"),a&&(n.removeClass("container--shrink"),o.removeClass("sideNav--hidden"))})),Object(n.extend)(x.a.prototype,"navItems",(function(e){if(!r.a.current.matches(ae.a)){var t=r.a.search.stickyParams(),a=r.a.store.all("tags"),n=this.currentTag();if(se()(a).forEach((function(t){e.remove("tag"+t.id())})),e.has("moreTags")&&e.remove("moreTags"),n){var o=function(a){var o=n===a;o||(o=n.parent()===a),e.remove("tag"+a.id()),e.add("navTag"+a.id(),ee.a.component({model:a,params:t,active:o},null==a?void 0:a.name()),-14)};se()(a).filter((function(e){return null!==e.position()&&(e===n||e===n.parent()||e.isChild()&&(e.parent()===n||e.parent()===n.parent()))})).forEach(o),a.filter((function(e){return null===e.position()})).sort((function(e,t){return t.discussionCount()-e.discussionCount()})).forEach(o)}}})),Object(n.override)(x.a.prototype,"view",(function(){return m("div",{className:"IndexPage"},this.hero(),m("div",{className:"container"},m("div",{className:"sideNavContainer"},m(i.a,null,m("nav",{className:"IndexPage-nav sideNav"},m("ul",null,X()(this.sidebarItems().toArray())))),m("div",{className:"IndexPage-results sideNavOffset"},m("div",{className:"IndexPage-toolbar"},m("ul",{className:"IndexPage-toolbar-view"},X()(this.viewItems().toArray())),m("ul",{className:"IndexPage-toolbar-action"},X()(this.actionItems().toArray()))),m(u.a,{state:r.a.discussions})))))})),Object(n.override)(ae.a.prototype,"view",(function(){if(this.loading)return m(P.a,null);var e=this.tags.filter((function(e){return null!==e.position()})),t=this.tags.filter((function(e){return null===e.position()}));return m("div",{className:"TagsPage"},x.a.prototype.hero(),m("div",{className:"container"},m("nav",{className:"TagsPage-nav IndexPage-nav sideNav"},m("ul",null,X()(x.a.prototype.sidebarItems().toArray()))),m("div",{className:"TagsPage-content"},m("div",{className:"TagFlex"},e.map((function(e){var t=e.lastPostedDiscussion(),a=se()(e.children()||[]);return m("div",{className:"TagItem"},m("div",{className:"TagItem-borderLine",style:"border-color: rgba("+le(e.color())+", 0.5)"}),m("div",{className:"TagItem-col"},m("div",{className:"TagItem-infoContainer"},e.icon()&&m("div",{className:"TagItem-icon"},e.icon()&&ce()(e,{className:"fa-3x"},{useColor:!1})),m("div",{className:"TagItem-info"},m(I.a,{href:r.a.route.tag(e)},m("span",{className:"TagItem-title"},e.name())),m("p",{className:"TagItem-desc"},e.description()),a?m("div",{className:"TagItem-children"},a.map((function(e){return[m(I.a,{href:r.a.route.tag(e)},e.name())," "]}))):"")),t?m("div",{className:"TagItem-detailContainer"},m("div",{className:"TagItem-lastPostedDiscussion"},m(I.a,{className:"TagItem-lastPostedDiscussion-link",href:r.a.route.discussion(t,t.lastPostNumber())},m("span",{className:"TagItem-lastPostedDiscussion-title"},t.title())),oe()(t.lastPostedAt()))):""))}))),t.length?m("div",{className:"TagCloud"},t.map((function(e){return[ue()(e,{link:!0})," "]}))):"")))}))):console.error("[madeyedeer/flarum-pallet-theme] flarum/tags is not enabled")}))}]);
//# sourceMappingURL=forum.js.map