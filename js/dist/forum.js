module.exports=function(t){var a={};function e(o){if(a[o])return a[o].exports;var n=a[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,e),n.l=!0,n.exports}return e.m=t,e.c=a,e.d=function(t,a,o){e.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:o})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,a){if(1&a&&(t=e(t)),8&a)return t;if(4&a&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(e.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var n in t)e.d(o,n,function(a){return t[a]}.bind(null,n));return o},e.n=function(t){var a=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(a,"a",a),a},e.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},e.p="",e(e.s=31)}([function(t,a){t.exports=flarum.core.compat["common/components/LinkButton"]},function(t,a){t.exports=flarum.core.compat["common/app"]},function(t,a){t.exports=flarum.core.compat["common/extend"]},function(t,a){t.exports=flarum.core.compat["common/helpers/listItems"]},function(t,a){t.exports=flarum.core.compat["components/IndexPage"]},function(t,a){t.exports=flarum.core.compat["common/components/Button"]},function(t,a){t.exports=flarum.core.compat["common/Component"]},function(t,a){t.exports=flarum.core.compat["components/Link"]},function(t,a){t.exports=flarum.core.compat["tags/common/utils/sortTags"]},function(t,a){t.exports=flarum.core.compat["common/utils/ItemList"]},function(t,a){t.exports=flarum.core.compat["utils/formatNumber"]},function(t,a){t.exports=flarum.core.compat["tags/components/TagsPage"]},function(t,a){t.exports=flarum.core.compat["forum/components/AffixedSidebar"]},function(t,a){t.exports=flarum.core.compat["forum/components/DiscussionList"]},function(t,a){t.exports=flarum.core.compat["components/DiscussionListItem"]},function(t,a){t.exports=flarum.core.compat["forum/components/DiscussionPage"]},function(t,a){t.exports=flarum.core.compat["forum/ForumApplication"]},function(t,a){t.exports=flarum.core.compat["common/components/HeaderSecondary"]},function(t,a){t.exports=flarum.core.compat["components/LoadingIndicator"]},function(t,a){t.exports=flarum.core.compat["common/components/LogInModal"]},function(t,a){t.exports=flarum.core.compat["common/components/SignUpModal"]},function(t,a){t.exports=flarum.core.compat["common/helpers/avatar"]},function(t,a){t.exports=flarum.core.compat["utils/humanTime"]},function(t,a){t.exports=flarum.core.compat["tags/components/TagLinkButton"]},function(t,a){t.exports=flarum.core.compat["helpers/humanTime"]},function(t,a){t.exports=flarum.core.compat["tags/common/helpers/tagIcon"]},function(t,a){t.exports=flarum.core.compat["tags/common/helpers/tagLabel"]},,,function(t,a){t.exports=flarum.core.compat["components/DiscussionHero"]},function(t,a){t.exports=flarum.core.compat["tags/components/TagHero"]},function(t,a,e){"use strict";e.r(a);var o=e(2),n=e(1),r=e.n(n),s=e(12),i=e.n(s),c=e(5),u=e.n(c),l=(e(29),e(13)),p=e.n(l),d=e(14),f=e.n(d),g=e(15),v=e.n(g),h=e(16),b=e.n(h),y=e(17),x=e.n(y),N=e(4),I=e.n(N),k=e(7),_=e.n(k),P=e(18),T=e.n(P);function w(t,a){return(w=Object.setPrototypeOf||function(t,a){return t.__proto__=a,t})(t,a)}function A(t,a){t.prototype=Object.create(a.prototype),t.prototype.constructor=t,w(t,a)}var j=e(6),C=e.n(j),D=e(9),O=e.n(D),B=e(0),L=e.n(B),S=e(19),M=e.n(S),z=function(t){function a(){return t.apply(this,arguments)||this}return A(a,t),a.prototype.view=function(){return m("li",{className:"separator"})},a}(C.a);z.isListItem=!0;var U=z,E=e(20),G=e.n(E),H=e(21),F=e.n(H),W=e(10),q=e.n(W),J=e(22),K=e.n(J),Q=e(3),R=e.n(Q),V=function(t){function a(){return t.apply(this,arguments)||this}A(a,t);var e=a.prototype;return e.view=function(){var t=app.session.user;return m("div",{class:"App-sidebar-container"},m("div",{class:"App-sidebar-user-block"},t?[m("div",{className:"loggedIn"},m("div",{class:"avatarWrapper"},m("div",{className:"Avatar-container"},F()(t),m("ul",{className:"badges"},R()(t.badges().toArray())))),m("h4",null,t.username()),m("p",null,app.translator.trans("core.forum.user.joined_date_text",{ago:K()(t.joinTime())})),m("div",{class:"App-sidebar-user-stats"},m("div",{class:"statItem"},m("span",null,app.translator.trans("core.forum.user.posts_link")),m("span",null,q()(t.commentCount()))),m("div",{class:"statItem"},m("span",null,app.translator.trans("core.forum.user.discussions_link")),m("span",null,q()(t.discussionCount())))))]:[m("div",{className:"guest"},m("h4",{className:"guestGreeting"},app.translator.trans("madeyedeer-pallet-theme.forum.howdy")),m("p",{className:"guestMessage"},app.translator.trans("madeyedeer-pallet-theme.forum.involve")),m("div",{className:"guestButtons"},this.sessionItems().toArray()))]),m("div",{class:"App-sidebar-items"},m("div",{class:"App-sidebar-items-container"},m("ul",null,R()(this.items().toArray()),t?R()(this.sessionItems().toArray()):""))))},e.sessionItems=function(){var t=new O.a,a=app.session.user;return a?(t.add("profile",L.a.component({icon:"fas fa-user",href:app.route.user(a)},app.translator.trans("core.forum.header.profile_button")),40),t.add("settings",L.a.component({icon:"fas fa-cog",href:app.route("settings")},app.translator.trans("core.forum.header.settings_button")),30),t.add("separator",U.component(),25),app.forum.attribute("adminUrl")&&t.add("administration",L.a.component({icon:"fas fa-wrench",href:app.forum.attribute("adminUrl"),target:"_blank"},app.translator.trans("core.forum.header.admin_button")),20),t.add("logOut",L.a.component({icon:"fas fa-sign-out-alt",onclick:app.session.logout.bind(app.session)},app.translator.trans("core.forum.header.log_out_button")),10)):(app.forum.attribute("allowSignUp")&&t.add("signUp",u.a.component({className:"Button Button--secondary Button--block",onclick:function(){return app.modal.show(G.a)}},app.translator.trans("core.forum.header.sign_up_link")),20),t.add("logIn",u.a.component({className:"Button Button--secondary Button--block",onclick:function(){return app.modal.show(M.a)}},app.translator.trans("core.forum.header.log_in_link")),10)),t},e.items=function(){var t=new O.a,a=app.search.stickyParams(),e=app.session.user;return t.add("allDiscussions",L.a.component({href:app.route("index",a),icon:"far fa-comments"},app.translator.trans("core.forum.index.all_discussions_link")),40),app.forum.attribute("blogAddSidebarNav")&&"0"!==app.forum.attribute("blogAddSidebarNav")&&t.add("blog",m(L.a,{icon:"fas fa-comment",href:app.route("blog")},app.translator.trans("v17development-flarum-blog.forum.blog")),39),t.add("tags",m(L.a,{icon:"fas fa-th-large",href:app.route("tags")},app.translator.trans("flarum-tags.forum.index.tags_link")),20),app.initializers.has("justoverclock/flarum-ext-keywords")&&t.add("Glossary",m(L.a,{href:app.route("GlossaryPage"),icon:"fas fa-atlas"},app.translator.trans("flarum-ext-keywords.forum.title")),21),app.initializers.has("askvortsov/flarum-categories")&&t.add("categories",m(L.a,{icon:"fas fa-th-list",href:app.route("categories")},app.translator.trans("askvortsov-categories.forum.index.categories_link")),22),app.forum.attribute("clarkwinkelmann-group-list.showSideNavLink")&&t.add("clarkwinkelmann-group-list-item",L.a.component({href:app.route("clarkwinkelmann-group-list"),icon:"fas fa-users"},app.translator.trans("clarkwinkelmann-group-list.forum.nav")),23),app.forum.attribute("canSeeUserDirectoryLink")&&t.add("fof-user-directory",L.a.component({href:app.route("fof_user_directory"),icon:"far fa-address-book"},app.translator.trans("fof-user-directory.forum.page.nav")),24),e&&(app.initializers.has("fof-byobu")&&t.add("privateDiscussions",L.a.component({icon:app.forum.data.attributes["byobu.icon-badge"],href:app.route("byobuPrivate")},app.translator.trans("fof-byobu.forum.nav.nav_item")),29),t.add("following",L.a.component({href:app.route("following",a),icon:"fas fa-star"},app.translator.trans("flarum-subscriptions.forum.index.following_link")),30),t.add("separator",U.component(),10)),app.initializers.has("justoverclock/flarum-ext-contactme")&&t.add("contactPage",m(L.a,{href:app.route("contactPage"),icon:"fas fa-at"},app.translator.trans("flarum-ext-contactme.forum.title")),8),t},a}(C.a),X=(e(30),e(23)),Y=e.n(X),Z=e(11),tt=e.n(Z),at=e(24),et=e.n(at),ot=e(8),nt=e.n(ot),rt=e(25),st=e.n(rt),it=e(26),ct=e.n(it);function mt(t){t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(t,a,e,o){return a+a+e+e+o+o}));var a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return a?parseInt(a[1],16)+","+parseInt(a[2],16)+","+parseInt(a[3],16):null}r.a.initializers.add("madeyedeer-pallet-theme",(function(){r.a.initializers.has("flarum-tags")?(Object(o.extend)(f.a.prototype,"oncreate",(function(t,a){var e=$(a.dom).find(".DiscussionListItem-content"),o=e.find(".item-sticky"),n=e.find(".item-locked");o.length&&o.closest(".DiscussionListItem").addClass("stickyDiscussion"),n.length&&n.closest(".DiscussionListItem").addClass("lockedDiscussion")})),Object(o.extend)(v.a.prototype,"onupdate",(function(t,a){$(a.dom).find("nav .Button--primary").removeClass("Button--primary").addClass("Button--secondary")})),Object(o.extend)(b.a.prototype,"mount",(function(){var t=document.getElementById("header-primary"),a=document.createElement("div");a.className="App-sidebar",t.parentNode.insertBefore(a,t.nextSibling),m.mount(a,V)})),Object(o.extend)(x.a.prototype,"items",(function(t){var a=r.a.forum.attribute("canStartDiscussion")||!r.a.session.user;t.add("newDiscussion",u.a.component({icon:"fas fa-edit",className:"Button Button--primary IndexPage-newDiscussion Button--header",itemClassName:"App-primaryControl",onclick:function(){return I.a.prototype.newDiscussionAction().catch((function(){}))},disabled:!a},r.a.translator.trans(a?"core.forum.index.start_discussion_button":"core.forum.index.cannot_start_discussion_button")),19)})),Object(o.extend)(I.a.prototype,"oncreate",(function(t,a){var e=this.currentTag(),o=$(a.dom).find(".container"),n=$(a.dom).find(".sideNav");n.addClass("sideNav--hidden"),o.addClass("container--shrink"),e&&(o.removeClass("container--shrink"),n.removeClass("sideNav--hidden"))})),Object(o.extend)(I.a.prototype,"navItems",(function(t){if(!r.a.current.matches(tt.a)){var a=r.a.search.stickyParams(),e=r.a.store.all("tags"),o=this.currentTag();if(nt()(e).forEach((function(a){t.remove("tag"+a.id())})),t.has("moreTags")&&t.remove("moreTags"),o){var n=function(e){var n=o===e;n||(n=o.parent()===e),t.remove("tag"+e.id()),t.add("navTag"+e.id(),Y.a.component({model:e,params:a,active:n},null==e?void 0:e.name()),-14)};nt()(e).filter((function(t){return null!==t.position()&&(t===o||t===o.parent()||t.isChild()&&(t.parent()===o||t.parent()===o.parent()))})).forEach(n),e.filter((function(t){return null===t.position()})).sort((function(t,a){return a.discussionCount()-t.discussionCount()})).forEach(n)}}})),Object(o.override)(I.a.prototype,"view",(function(){return m("div",{className:"IndexPage"},this.hero(),m("div",{className:"container"},m("div",{className:"sideNavContainer"},m(i.a,null,m("nav",{className:"IndexPage-nav sideNav"},m("ul",null,R()(this.sidebarItems().toArray())))),m("div",{className:"IndexPage-results sideNavOffset"},m("div",{className:"IndexPage-toolbar"},m("ul",{className:"IndexPage-toolbar-view"},R()(this.viewItems().toArray())),m("ul",{className:"IndexPage-toolbar-action"},R()(this.actionItems().toArray()))),m(p.a,{state:r.a.discussions})))))})),Object(o.override)(tt.a.prototype,"view",(function(){if(this.loading)return m(T.a,null);var t=this.tags.filter((function(t){return null!==t.position()})),a=this.tags.filter((function(t){return null===t.position()}));return m("div",{className:"TagsPage"},I.a.prototype.hero(),m("div",{className:"container"},m("nav",{className:"TagsPage-nav IndexPage-nav sideNav"},m("ul",null,R()(I.a.prototype.sidebarItems().toArray()))),m("div",{className:"TagsPage-content"},m("div",{className:"TagFlex"},t.map((function(t){var a=t.lastPostedDiscussion(),e=nt()(t.children()||[]);return m("div",{className:"TagItem"},m("div",{className:"TagItem-borderLine",style:"border-color: rgba("+mt(t.color())+", 0.5)"}),m("div",{className:"TagItem-col"},m("div",{className:"TagItem-infoContainer"},m("div",{className:"TagItem-icon"},t.icon()&&st()(t,{className:"fa-3x"},{useColor:!1})),m("div",{className:"TagItem-info"},m(_.a,{href:r.a.route.tag(t)},m("span",{className:"TagItem-title"},t.name())),m("p",{className:"TagItem-desc"},t.description()),e?m("div",{className:"TagItem-children"},e.map((function(t){return[m(_.a,{href:r.a.route.tag(t)},t.name())," "]}))):"")),a?m("div",{className:"TagItem-detailContainer"},m("div",{className:"TagItem-lastPostedDiscussion"},m(_.a,{className:"TagItem-lastPostedDiscussion-link",href:r.a.route.discussion(a,a.lastPostNumber())},m("span",{className:"TagItem-lastPostedDiscussion-title"},a.title())),et()(a.lastPostedAt()))):""))}))),a.length?m("div",{className:"TagCloud"},a.map((function(t){return[ct()(t,{link:!0})," "]}))):"")))}))):console.error("[madeyedeer/flarum-pallet-theme] flarum/tags is not enabled")}))}]);
//# sourceMappingURL=forum.js.map