module.exports=function(t){var e={};function n(a){if(e[a])return e[a].exports;var o=e[a]={i:a,l:!1,exports:{}};return t[a].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(a,o,function(e){return t[e]}.bind(null,o));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=30)}([function(t,e){t.exports=flarum.core.compat["common/extend"]},function(t,e){t.exports=flarum.core.compat["common/app"]},function(t,e){t.exports=flarum.core.compat["common/helpers/listItems"]},function(t,e){t.exports=flarum.core.compat["components/IndexPage"]},function(t,e){t.exports=flarum.core.compat["common/components/LinkButton"]},function(t,e){t.exports=flarum.core.compat["common/Component"]},function(t,e){t.exports=flarum.core.compat["components/Link"]},function(t,e){t.exports=flarum.core.compat["tags/common/utils/sortTags"]},function(t,e){t.exports=flarum.core.compat["common/components/Button"]},function(t,e){t.exports=flarum.core.compat["utils/formatNumber"]},function(t,e){t.exports=flarum.core.compat["tags/components/TagsPage"]},function(t,e){t.exports=flarum.core.compat["forum/components/AffixedSidebar"]},function(t,e){t.exports=flarum.core.compat["forum/components/DiscussionList"]},function(t,e){t.exports=flarum.core.compat["components/DiscussionListItem"]},function(t,e){t.exports=flarum.core.compat["forum/components/DiscussionPage"]},function(t,e){t.exports=flarum.core.compat["forum/ForumApplication"]},function(t,e){t.exports=flarum.core.compat["common/components/HeaderSecondary"]},function(t,e){t.exports=flarum.core.compat["components/LoadingIndicator"]},function(t,e){t.exports=flarum.core.compat["forum/components/IndexPage"]},function(t,e){t.exports=flarum.core.compat["common/utils/ItemList"]},function(t,e){t.exports=flarum.core.compat["common/components/LogInModal"]},function(t,e){t.exports=flarum.core.compat["common/components/SignUpModal"]},function(t,e){t.exports=flarum.core.compat["common/helpers/avatar"]},function(t,e){t.exports=flarum.core.compat["utils/humanTime"]},function(t,e){t.exports=flarum.core.compat["tags/components/TagLinkButton"]},function(t,e){t.exports=flarum.core.compat["helpers/humanTime"]},function(t,e){t.exports=flarum.core.compat["tags/common/helpers/tagIcon"]},function(t,e){t.exports=flarum.core.compat["tags/common/helpers/tagLabel"]},,,function(t,e,n){"use strict";n.r(e);var a=n(0),o=n(1),r=n.n(o),s=n(11),i=n.n(s),c=n(12),u=n.n(c),l=n(13),p=n.n(l),d=n(14),f=n.n(d),g=n(15),v=n.n(g),h=n(16),b=n.n(h),x=n(3),y=n.n(x),I=n(6),N=n.n(I),T=n(17),P=n.n(T);function _(t,e){return(_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function k(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,_(t,e)}var O=n(8),j=n.n(O),C=n(5),A=n.n(C),w=n(18),B=n.n(w),D=n(19),L=n.n(D),S=n(4),M=n.n(S),E=n(20),U=n.n(E),z=function(t){function e(){return t.apply(this,arguments)||this}return k(e,t),e.prototype.view=function(){return m("li",{className:"separator"})},e}(A.a);z.isListItem=!0;var F=z,G=n(21),H=n.n(G),W=n(22),q=n.n(W),J=n(9),K=n.n(J),Q=n(23),R=n.n(Q),V=n(2),X=n.n(V),Y=function(t){function e(){return t.apply(this,arguments)||this}k(e,t);var n=e.prototype;return n.view=function(){var t=app.session.user,e=(new B.a).navItems();return m("div",{class:"App-sidebar-container"},m("div",{class:"App-sidebar-user-block"},t?[m("div",{className:"loggedIn"},m("div",{class:"avatarWrapper"},m("div",{className:"Avatar-container"},q()(t),m("ul",{className:"badges"},X()(t.badges().toArray())))),m("h4",null,t.username()),m("p",null,app.translator.trans("core.forum.user.joined_date_text",{ago:R()(t.joinTime())})),m("div",{class:"App-sidebar-user-stats"},m("div",{class:"statItem"},m("span",null,app.translator.trans("core.forum.user.posts_link")),m("span",null,K()(t.commentCount()))),m("div",{class:"statItem"},m("span",null,app.translator.trans("core.forum.user.discussions_link")),m("span",null,K()(t.discussionCount())))))]:[m("div",{className:"guest"},m("h4",{className:"guestGreeting"},app.translator.trans("madeyedeer-pallet-theme.forum.howdy")),m("p",{className:"guestMessage"},app.translator.trans("madeyedeer-pallet-theme.forum.involve")),m("div",{className:"guestButtons"},this.sessionItems().toArray()))]),m("div",{class:"App-sidebar-items"},m("div",{class:"App-sidebar-items-container"},m("ul",null,X()(e.toArray()),t?X()(this.sessionItems().toArray()):""))))},n.sessionItems=function(){var t=new L.a,e=app.session.user;return e?(t.add("separator-top",F.component(),50),t.add("profile",M.a.component({icon:"fas fa-user",href:app.route.user(e)},app.translator.trans("core.forum.header.profile_button")),40),t.add("settings",M.a.component({icon:"fas fa-cog",href:app.route("settings")},app.translator.trans("core.forum.header.settings_button")),30),t.add("separator",F.component(),25),app.forum.attribute("adminUrl")&&t.add("administration",M.a.component({icon:"fas fa-wrench",href:app.forum.attribute("adminUrl"),target:"_blank"},app.translator.trans("core.forum.header.admin_button")),20),t.add("logOut",M.a.component({icon:"fas fa-sign-out-alt",onclick:app.session.logout.bind(app.session)},app.translator.trans("core.forum.header.log_out_button")),10)):(app.forum.attribute("allowSignUp")&&t.add("signUp",j.a.component({className:"Button Button--secondary Button--block",onclick:function(){return app.modal.show(H.a)}},app.translator.trans("core.forum.header.sign_up_link")),20),t.add("logIn",j.a.component({className:"Button Button--secondary Button--block",onclick:function(){return app.modal.show(U.a)}},app.translator.trans("core.forum.header.log_in_link")),10)),t},e}(A.a),Z=n(24),tt=n.n(Z),et=n(10),nt=n.n(et),at=n(25),ot=n.n(at),rt=n(7),st=n.n(rt),it=n(26),ct=n.n(it),mt=n(27),ut=n.n(mt);function lt(t){t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(t,e,n,a){return e+e+n+n+a+a}));var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?parseInt(e[1],16)+","+parseInt(e[2],16)+","+parseInt(e[3],16):null}r.a.initializers.add("madeyedeer-pallet-theme",(function(){r.a.initializers.has("flarum-tags")?(Object(a.extend)(p.a.prototype,"oncreate",(function(t,e){var n=$(e.dom).find(".DiscussionListItem-content"),a=n.find(".item-sticky"),o=n.find(".item-locked");a.length&&a.closest(".DiscussionListItem").addClass("stickyDiscussion"),o.length&&o.closest(".DiscussionListItem").addClass("lockedDiscussion")})),Object(a.extend)(f.a.prototype,"onupdate",(function(t,e){$(e.dom).find("nav .Button--primary").removeClass("Button--primary").addClass("Button--secondary")})),Object(a.extend)(v.a.prototype,"mount",(function(){var t=document.getElementById("header-primary"),e=document.createElement("div");e.className="App-sidebar",t.parentNode.insertBefore(e,t.nextSibling),m.mount(e,Y)})),Object(a.extend)(b.a.prototype,"items",(function(t){var e=(new y.a).sidebarItems().get("newDiscussion");t.add("newDiscussion",e,19)})),Object(a.extend)(y.a.prototype,"oncreate",(function(t,e){var n=this.currentTag(),a=$(e.dom).find(".container"),o=$(e.dom).find(".sideNav");o.addClass("sideNav--hidden"),a.addClass("container--shrink"),n&&(a.removeClass("container--shrink"),o.removeClass("sideNav--hidden"))})),Object(a.extend)(y.a.prototype,"navItems",(function(t){if(!r.a.current.matches(nt.a)){var e=r.a.search.stickyParams(),n=r.a.store.all("tags"),a=this.currentTag();if(st()(n).forEach((function(e){t.remove("tag"+e.id())})),t.has("moreTags")&&t.remove("moreTags"),a){var o=function(n){var o=a===n;o||(o=a.parent()===n),t.remove("tag"+n.id()),t.add("navTag"+n.id(),tt.a.component({model:n,params:e,active:o},null==n?void 0:n.name()),-14)};st()(n).filter((function(t){return null!==t.position()&&(t===a||t===a.parent()||t.isChild()&&(t.parent()===a||t.parent()===a.parent()))})).forEach(o),n.filter((function(t){return null===t.position()})).sort((function(t,e){return e.discussionCount()-t.discussionCount()})).forEach(o)}}})),Object(a.override)(y.a.prototype,"view",(function(){return m("div",{className:"IndexPage"},this.hero(),m("div",{className:"container"},m("div",{className:"sideNavContainer"},m(i.a,null,m("nav",{className:"IndexPage-nav sideNav"},m("ul",null,X()(this.sidebarItems().toArray())))),m("div",{className:"IndexPage-results sideNavOffset"},m("div",{className:"IndexPage-toolbar"},m("ul",{className:"IndexPage-toolbar-view"},X()(this.viewItems().toArray())),m("ul",{className:"IndexPage-toolbar-action"},X()(this.actionItems().toArray()))),m(u.a,{state:r.a.discussions})))))})),Object(a.override)(nt.a.prototype,"view",(function(){if(this.loading)return m(P.a,null);var t=this.tags.filter((function(t){return null!==t.position()})),e=this.tags.filter((function(t){return null===t.position()}));return m("div",{className:"TagsPage"},y.a.prototype.hero(),m("div",{className:"container"},m("nav",{className:"TagsPage-nav IndexPage-nav sideNav"},m("ul",null,X()(y.a.prototype.sidebarItems().toArray()))),m("div",{className:"TagsPage-content"},m("div",{className:"TagFlex"},t.map((function(t){var e=t.lastPostedDiscussion(),n=st()(t.children()||[]);return m("div",{className:"TagItem"},m("div",{className:"TagItem-borderLine",style:"border-color: rgba("+lt(t.color())+", 0.5)"}),m("div",{className:"TagItem-col"},m("div",{className:"TagItem-infoContainer"},t.icon()&&m("div",{className:"TagItem-icon"},t.icon()&&ct()(t,{className:"fa-3x"},{useColor:!1})),m("div",{className:"TagItem-info"},m(N.a,{href:r.a.route.tag(t)},m("span",{className:"TagItem-title"},t.name())),m("p",{className:"TagItem-desc"},t.description()),n?m("div",{className:"TagItem-children"},n.map((function(t){return[m(N.a,{href:r.a.route.tag(t)},t.name())," "]}))):"")),e?m("div",{className:"TagItem-detailContainer"},m("div",{className:"TagItem-lastPostedDiscussion"},m(N.a,{className:"TagItem-lastPostedDiscussion-link",href:r.a.route.discussion(e,e.lastPostNumber())},m("span",{className:"TagItem-lastPostedDiscussion-title"},e.title())),ot()(e.lastPostedAt()))):""))}))),e.length?m("div",{className:"TagCloud"},e.map((function(t){return[ut()(t,{link:!0})," "]}))):"")))}))):console.error("[madeyedeer/flarum-pallet-theme] flarum/tags is not enabled")}))}]);
//# sourceMappingURL=forum.js.map